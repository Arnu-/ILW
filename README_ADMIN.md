# 单词记忆游戏 - 管理员指南

## 系统概述

单词记忆游戏是一个帮助用户学习和记忆单词的应用程序。系统分为用户端和管理员端，管理员可以管理单词、单词组、用户权限等。

## 管理员认证系统

为了保护管理员功能，系统现已添加密码验证机制。管理员需要使用正确的用户名和密码才能访问管理功能。

### 密码管理

系统提供了一个专门的脚本 `admin_password.py` 用于管理员密码的设置和修改。

#### 设置或修改管理员密码

```bash
python admin_password.py --set 新密码
```

或者使用简短形式：

```bash
python admin_password.py -s 新密码
```

例如：

```bash
python admin_password.py --set admin123
```

**注意事项：**
- 密码长度必须至少为6个字符
- 密码将使用SHA-256算法和随机盐值进行哈希处理后存储，确保安全性
- 每次修改密码都会更新数据库中的记录

### 管理员登录

1. 在登录界面输入管理员用户名（通常为"admin"）
2. 系统将弹出密码输入框，输入正确的管理员密码
3. 验证成功后，将跳转到管理员界面

### 安全建议

1. 定期更改管理员密码，建议每3个月更换一次
2. 使用强密码，包含大小写字母、数字和特殊字符
3. 不要与其他系统使用相同的密码
4. 不要将密码告知无关人员
5. 避免在公共场所登录管理员账户

## 管理员功能

### 系统统计

管理员可以查看系统的各项统计数据，包括：
- 单词总数
- 单词组总数
- 用户总数
- 学习记录总数
- 平均正确率
- 单词难度分布

### 用户管理

- 查看所有用户
- 设置/移除用户的管理员权限
- 注意：系统必须保留至少一个管理员账户

### 单词管理

- 添加、编辑、删除单词
- 导入/导出单词库
- 设置单词难度级别

### 单词组管理

- 创建、编辑、删除单词组
- 初始化均衡单词组
- 为单词组分配单词

## 技术说明

### 数据库结构

系统新增了 `admin_auth` 表，用于存储管理员密码信息：
- `id`: 主键
- `password_hash`: 密码哈希值（SHA-256）
- `salt`: 随机盐值
- `created_at`: 创建时间
- `updated_at`: 更新时间

### API接口

管理员认证相关的API接口：
- `POST /api/admin/login`: 管理员登录，需提供用户名和密码
- `POST /api/admin/check/<user_id>`: 检查用户是否为管理员并验证密码

## 故障排除

1. **无法登录管理员账户**
   - 确认用户名是否正确
   - 确认密码是否正确
   - 检查用户是否具有管理员权限

2. **密码设置失败**
   - 确认密码长度是否至少为6个字符
   - 确认数据库连接是否正常
   - 检查是否有足够的权限访问数据库

3. **管理员权限丢失**
   - 使用另一个管理员账户登录
   - 重新设置用户为管理员
   - 如果所有管理员账户都无法访问，可能需要直接修改数据库

## 联系支持

如有任何问题或需要技术支持，请联系系统管理员。